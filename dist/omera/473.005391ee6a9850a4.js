"use strict";(self.webpackChunkOmera=self.webpackChunkOmera||[]).push([[473,6090],{7866:(f,m,r)=>{r.r(m),r.d(m,{SettingsComponent:()=>p});var i=r(6814),o=r(6223),u=r(4119),e=r(8926),g=r(7122),_=r(9483),a=r(7336);const s=function(c){return{"bg-secondary-subtle":c}},d=function(c){return{"d-none":c}};let p=(()=>{class c{constructor(n,l,t,h,C){this._FormBuilder=n,this.translate=l,this._CustomerDashboardService=t,this._AuthService=h,this._AccountComponent=C,this.userId=0,this.userImage="",this.disableInputs=!0,this.userProfileForm=this._FormBuilder.group({image:[""],full_name:[""],email:[""],phone:[""],Address:[""],City:[""],State:[""],Country:[""]})}onFileChange(n){console.log(n.target.files[0]),this.imageUrl=n.target.files[0]}getUserProfile(){this._CustomerDashboardService.getUserProfile(this.userId).subscribe({next:n=>{console.log("proData",n),this.userProfileForm.get("full_name")?.setValue(n.full_name),this.userProfileForm.get("email")?.setValue(n.user.email),this.userProfileForm.get("phone")?.setValue(n.user.phone),this.userProfileForm.get("Address")?.setValue(n.address),this.userProfileForm.get("City")?.setValue(n.city),this.userProfileForm.get("State")?.setValue(n.state),this.userProfileForm.get("Country")?.setValue(n.country);for(const l in this.userProfileForm.value)"null"==this.userProfileForm.get(l).value&&this.userProfileForm.get(l)?.setValue(" ")},error:n=>{console.log(n)}})}updateUserProfile(){const n=this._FormBuilder.group({full_name:this.userProfileForm.get("full_name")?.value,email:this.userProfileForm.get("email")?.value,mobile:this.userProfileForm.get("phone")?.value,address:this.userProfileForm.get("Address")?.value,country:this.userProfileForm.get("Country")?.value,state:this.userProfileForm.get("State")?.value,city:this.userProfileForm.get("City")?.value}),l=new FormData;Object.keys(n.value).forEach(t=>{l.append(t,n.get(t)?.value),null!=this.imageUrl&&l.append("image",this.imageUrl,this.imageUrl.name)}),this._CustomerDashboardService.updateUserProfile(this.userId,l).subscribe({next:t=>{console.log("upd",t),this.disableInputs=!0,this._AccountComponent.getUserImage(),this.getUserProfile()},error:t=>{console.log(t),console.log(this.imageUrl)}})}ngOnInit(){this._AuthService.decodeToken(),this.userId=this._AuthService.userInfo.user_id,console.log(this.userId),this.getUserProfile()}enableInputs(){this.disableInputs=!1}isArabic(){return"ar"===this.translate.currentLang}static#e=this.\u0275fac=function(l){return new(l||c)(e.Y36(o.qu),e.Y36(u.sK),e.Y36(g.Y),e.Y36(_.e),e.Y36(a.AccountComponent))};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-settings"]],standalone:!0,features:[e.jDz],decls:56,vars:74,consts:[[3,"dir","lang"],["lang","en",1,"fa-solid","fa-gear","text-prim","fs-2","ms-2"],[3,"formGroup"],["for","ProfileImage"],["type","file","accept","image/png, image/gif, image/jpeg","name","ProfileImage","id","ProfileImage","placeholder","Select an image","formControlName","image",1,"form-control","my-2",3,"readonly","ngClass","change"],["for","name"],["type","text","id","name","formControlName","full_name",1,"form-control","my-2","w-100",3,"readonly","ngClass"],[1,"d-flex","justify-content-between","gap-3"],[1,"w-50"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","address"],["type","text","id","address","formControlName","Address",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","City"],["type","text","id","City","formControlName","City",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","State"],["type","text","id","State","formControlName","State",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","Country"],["type","tel","id","Country","formControlName","Country",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["type","button",1,"Update","btn-main","mt-2",3,"ngClass","click"],["type","button",1,"Save","btn","btn-main","d-none","mt-2",3,"ngClass","click"]],template:function(l,t){1&l&&(e.TgZ(0,"section",0)(1,"h4"),e._UZ(2,"i",1),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"form",2)(7,"div")(8,"label",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("change",function(C){return t.onFileChange(C)}),e.qZA()(),e.TgZ(12,"div")(13,"label",5),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"input",6),e.qZA(),e.TgZ(17,"div",7)(18,"div",8)(19,"label",9),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"div",8)(24,"label",11),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"input",12),e.qZA()(),e.TgZ(28,"div",7)(29,"div",8)(30,"label",13),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._UZ(33,"input",14),e.qZA(),e.TgZ(34,"div",8)(35,"label",15),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",16),e.qZA()(),e.TgZ(39,"div",7)(40,"div",8)(41,"label",17),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",18),e.qZA(),e.TgZ(45,"div",8)(46,"label",19),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"input",20),e.qZA()(),e.TgZ(50,"button",21),e.NdJ("click",function(){return t.enableInputs()}),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"button",22),e.NdJ("click",function(){return t.updateUserProfile()}),e._uU(54),e.ALo(55,"translate"),e.qZA()()()),2&l&&(e.Q6J("dir",t.isArabic()?"rtl":"ltr")("lang",t.isArabic()?"ar":"en"),e.xp6(4),e.Oqu(e.lcZ(5,32,"cart.Settings")),e.xp6(2),e.Q6J("formGroup",t.userProfileForm),e.xp6(3),e.Oqu(e.lcZ(10,34,"cart.Profile Image")),e.xp6(2),e.Q6J("readonly",t.disableInputs)("ngClass",e.VKq(54,s,t.disableInputs)),e.xp6(3),e.Oqu(e.lcZ(15,36,"cart.Full Name")),e.xp6(2),e.Q6J("readonly",t.disableInputs)("ngClass",e.VKq(56,s,t.disableInputs)),e.xp6(4),e.hij("",e.lcZ(21,38,"cart.Email")," "),e.xp6(2),e.Q6J("readonly",t.disableInputs)("ngClass",e.VKq(58,s,t.disableInputs)),e.xp6(3),e.hij("",e.lcZ(26,40,"cart.Mobile")," "),e.xp6(2),e.Q6J("readonly",t.disableInputs)("ngClass",e.VKq(60,s,t.disableInputs)),e.xp6(4),e.hij("",e.lcZ(32,42,"cart.Address")," "),e.xp6(2),e.Q6J("readonly",t.disableInputs)("ngClass",e.VKq(62,s,t.disableInputs)),e.xp6(3),e.hij("",e.lcZ(37,44,"cart.City")," "),e.xp6(2),e.Q6J("readonly",t.disableInputs)("ngClass",e.VKq(64,s,t.disableInputs)),e.xp6(4),e.hij("",e.lcZ(43,46,"cart.State")," "),e.xp6(2),e.Q6J("readonly",t.disableInputs)("ngClass",e.VKq(66,s,t.disableInputs)),e.xp6(3),e.hij("",e.lcZ(48,48,"cart.Country")," "),e.xp6(2),e.Q6J("readonly",t.disableInputs)("ngClass",e.VKq(68,s,t.disableInputs)),e.xp6(1),e.Q6J("ngClass",e.VKq(70,d,0==t.disableInputs)),e.xp6(1),e.Oqu(e.lcZ(52,50,"customerDashboard.Update Data")),e.xp6(2),e.Q6J("ngClass",e.VKq(72,d,t.disableInputs)),e.xp6(1),e.Oqu(e.lcZ(55,52,"customerDashboard.Save Changes")))},dependencies:[i.ez,i.mk,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,u.aw,u.X$]})}return c})()},1373:(f,m,r)=>{r.d(m,{v:()=>u});var i=r(5619),o=r(8926);let u=(()=>{class e{constructor(){this.currentLang=new i.X("en"),this.vendorCurrentLang=new i.X("en"),this.currency=new i.X({label:"EGP",icon:"fi-eg"})}static#e=this.\u0275fac=function(a){return new(a||e)};static#t=this.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},2239:(f,m,r)=>{r.d(m,{s:()=>e});var i=r(553),o=r(8926),u=r(9862);let e=(()=>{class g{constructor(a){this._HttpClient=a,this.baseUrl=i.N.baseURL}getPopularProduct(a,s){return this._HttpClient.get(`${this.baseUrl}/v1/product-popular/${a}/`,{headers:{"Accept-Language":s}})}getBestSeller(a,s){return this._HttpClient.get(`${this.baseUrl}/v1/product-bestseller/${a}/`,{headers:{"Accept-Language":s}})}getProductDetails(a,s,d){return this._HttpClient.get(`${this.baseUrl}/v1/product/${a}/${s}/`,{headers:{"Accept-Language":d}})}getAllCategory(a){return this._HttpClient.get(`${this.baseUrl}/v1/category/`,{headers:{"Accept-Language":a}})}getAllProduct(a="",s=[],d=[],p=[],c=0,v=1,n="",l){return this._HttpClient.get(`${this.baseUrl}/v1/productss/${n}/?brand_ids=${p}&category_ids=${s}&page=${v}&price=${d}&rating=${c}&title=${a}`,{headers:{"Accept-Language":l}})}getAllBrands(a){return this._HttpClient.get(`${this.baseUrl}/v1/brand/`,{headers:{"Accept-Language":a}})}AddReview(a){return this._HttpClient.post(`${this.baseUrl}/v1/reviews/`,a)}getReview(a){return this._HttpClient.get(`${this.baseUrl}/v1/reviews/${a}/`)}static#e=this.\u0275fac=function(s){return new(s||g)(o.LFG(u.eN))};static#t=this.\u0275prov=o.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},7409:(f,m,r)=>{r.d(m,{M:()=>g});var i=r(5619),o=r(553),u=r(8926),e=r(9862);let g=(()=>{class _{constructor(s){this._HttpClient=s,this.baseUrl=o.N.baseURL,this.wishlistNumber=new i.X(0)}addWishlist(s){return this._HttpClient.post(`${this.baseUrl}/v1/customer/wishlist/create/`,s)}getWishlist(s,d,p){return this._HttpClient.get(`${this.baseUrl}/v1/customer/wishlist/${s}/${d}/`,{headers:{"Accept-Language":p}})}static#e=this.\u0275fac=function(d){return new(d||_)(u.LFG(e.eN))};static#t=this.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()}}]);