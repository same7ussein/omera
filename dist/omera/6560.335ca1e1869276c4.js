"use strict";(self.webpackChunkOmera=self.webpackChunkOmera||[]).push([[6560],{6560:(Z,m,i)=>{i.r(m),i.d(m,{RegisterComponent:()=>W});var u=i(6814),l=i(6223),_=i(5881),p=i(5897),A=i(1757),d=i(4119),f=i(1423),e=i(8926),T=i(4938),x=i(9483),E=i(2425),C=i(1373);function I(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"account.userName.required")," "))}function L(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"account.userName.minlength")," "))}function O(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"account.userName.maxlength")," "))}function F(t,a){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,I,3,3,"p",16),e.YNc(2,L,3,3,"p",16),e.YNc(3,O,3,3,"p",16),e.qZA()),2&t){const o=e.oxw();let n,r,s;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("full_name"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("full_name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(s=o.registerForm.get("full_name"))?null:s.getError("maxlength"))}}function R(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"account.email-req")," "))}function M(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"account.email-valid")," "))}function P(t,a){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,R,3,3,"p",16),e.YNc(2,M,3,3,"p",16),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("email"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("email"))?null:r.getError("email"))}}function U(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"account.pass-req"),""))}function q(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"account.password.pattern")))}function D(t,a){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,U,3,3,"p",16),e.YNc(2,q,3,3,"p",16),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("password"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("password"))?null:r.getError("pattern"))}}function J(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"account.confirmPassword.required")))}function w(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"account.confirmPassword.compare"),""))}function N(t,a){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,J,3,3,"p",16),e.YNc(2,w,3,3,"p",16),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("password2"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",(null==(r=o.registerForm.get("password2"))?null:r.getError("compare"))&&!(null!=(r=o.registerForm.get("password2"))&&r.getError("required")))}}function Y(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"account.phone.required")," "))}function Q(t,a){1&t&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"account.phone.pattern")))}function B(t,a){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,Y,3,3,"p",16),e.YNc(2,Q,3,3,"p",16),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("phone"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("phone"))?null:r.getError("pattern"))}}function K(t,a){1&t&&e._UZ(0,"span",18)}let W=(()=>{class t{constructor(o,n,r,s,c,g){this._Router=o,this._FormBuilder=n,this._AuthService=r,this._ToastrService=s,this.translate=c,this._CommonService=g,this.isloading=!1,this.currentLang="",this.registerForm=this._FormBuilder.group({full_name:["",[l.kI.required,l.kI.minLength(3),l.kI.maxLength(20)]],email:["",[l.kI.required,l.kI.email]],phone:["",[l.kI.required,l.kI.pattern(/^01[0125][0-9]{8}$/)]],password:["",[l.kI.required,l.kI.pattern(/^[A-Za-z0-9]{6,20}$/)]],password2:["",[_.CM.required(),_.CM.compare({fieldName:"password"})]]})}ngOnInit(){this._CommonService.currentLang.subscribe({next:o=>{console.log(o),this.currentLang=o},error:o=>{console.log(o)}})}handleForm(){if(this.registerForm.valid){this.isloading=!0;const o=new FormData;Object.keys(this.registerForm.value).forEach(n=>{o.append(n,this.registerForm.get(n)?.value)}),this._AuthService.register(o,this.currentLang).subscribe({next:n=>{this.isloading=!1,"success"==n.status?(this._ToastrService.success(n.message),this._Router.navigate(["/login"])):this._ToastrService.warning(n.message)},error:n=>{console.log(n),this.isloading=!1}})}else this.registerForm.markAllAsTouched()}isArabic(){return"ar"===this.translate.currentLang}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(T.F0),e.Y36(l.qu),e.Y36(x.e),e.Y36(E._W),e.Y36(d.sK),e.Y36(C.v))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:34,vars:34,consts:[[1,"home-auth",3,"dir"],[1,"main","shadow","bg-white"],[1,"signup"],[3,"formGroup","ngSubmit"],[1,"title"],[1,"d-flex","gap-3","flex-column"],["formControlName","full_name",3,"placeholder"],["class","validation",4,"ngIf"],["type","email","formControlName","email","autocomplete","email",3,"placeholder"],[1,"flex","justify-content-center"],["formControlName","password",3,"placeholder","toggleMask","dir"],["formControlName","password2",3,"placeholder","toggleMask","dir"],["type","tel","formControlName","phone",3,"placeholder","dir"],["type","submit",1,"btn-main","mx-auto","d-block"],["class","loader ms-2",4,"ngIf"],[1,"validation"],["class","text-danger m-0",4,"ngIf"],[1,"text-danger","m-0"],[1,"loader","ms-2"]],template:function(n,r){if(1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return r.handleForm()}),e.TgZ(4,"p",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",5)(8,"div"),e._UZ(9,"input",6),e.ALo(10,"translate"),e.YNc(11,F,4,3,"div",7),e.qZA(),e.TgZ(12,"div"),e._UZ(13,"input",8),e.ALo(14,"translate"),e.YNc(15,P,3,2,"div",7),e.qZA(),e.TgZ(16,"div")(17,"div",9),e._UZ(18,"p-password",10),e.ALo(19,"translate"),e.qZA(),e.YNc(20,D,3,2,"div",7),e.qZA(),e.TgZ(21,"div")(22,"div",9),e._UZ(23,"p-password",11),e.ALo(24,"translate"),e.qZA(),e.YNc(25,N,3,2,"div",7),e.qZA(),e.TgZ(26,"div"),e._UZ(27,"input",12),e.ALo(28,"translate"),e.YNc(29,B,3,2,"div",7),e.qZA(),e.TgZ(30,"button",13),e.YNc(31,K,1,0,"span",14),e._uU(32),e.ALo(33,"translate"),e.qZA()()()()()()),2&n){let s,c,g,h,v;e.Q6J("dir",r.isArabic()?"rtl":"ltr"),e.xp6(3),e.Q6J("formGroup",r.registerForm),e.xp6(2),e.Oqu(e.lcZ(6,20,"account.signup")),e.xp6(4),e.Q6J("placeholder",e.lcZ(10,22,"account.userName")),e.xp6(2),e.Q6J("ngIf",(null==(s=r.registerForm.get("full_name"))?null:s.errors)&&(null==(s=r.registerForm.get("full_name"))?null:s.touched)),e.xp6(2),e.Q6J("placeholder",e.lcZ(14,24,"account.Email")),e.xp6(2),e.Q6J("ngIf",(null==(c=r.registerForm.get("email"))?null:c.errors)&&(null==(c=r.registerForm.get("email"))?null:c.touched)),e.xp6(3),e.Q6J("placeholder",e.lcZ(19,26,"account.password"))("toggleMask",!0)("dir",r.isArabic()?"rtl":"ltr"),e.xp6(2),e.Q6J("ngIf",(null==(g=r.registerForm.get("password"))?null:g.errors)&&(null==(g=r.registerForm.get("password"))?null:g.touched)),e.xp6(3),e.Q6J("placeholder",e.lcZ(24,28,"account.confirmPassword.placeholder"))("toggleMask",!0)("dir",r.isArabic()?"rtl":"ltr"),e.xp6(2),e.Q6J("ngIf",(null==(h=r.registerForm.get("password2"))?null:h.errors)&&(null==(h=r.registerForm.get("password2"))?null:h.touched)),e.xp6(2),e.Q6J("placeholder",e.lcZ(28,30,"account.phone.placeholder"))("dir",r.isArabic()?"rtl":"ltr"),e.xp6(2),e.Q6J("ngIf",(null==(v=r.registerForm.get("phone"))?null:v.errors)&&(null==(v=r.registerForm.get("phone"))?null:v.touched)),e.xp6(2),e.Q6J("ngIf",r.isloading),e.xp6(1),e.hij(" ",e.lcZ(33,32,"account.signup"),"")}},dependencies:[u.ez,u.O5,l.u5,l._Y,l.Fj,l.JJ,l.JL,l.UX,l.sg,l.u,_.Ju,_.bc,_.VP,_.YE,p.n,A.T,d.aw,d.X$,f.gz,f.ro],styles:["[_nghost-%COMP%]     .p-password{width:100%}"]})}return t})()},1373:(Z,m,i)=>{i.d(m,{v:()=>_});var u=i(5619),l=i(8926);let _=(()=>{class p{constructor(){this.currentLang=new u.X("en"),this.vendorCurrentLang=new u.X("en"),this.currency=new u.X({label:"EGP",icon:"fi-eg"})}static#e=this.\u0275fac=function(f){return new(f||p)};static#t=this.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()}}]);