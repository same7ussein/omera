"use strict";(self.webpackChunkOmera=self.webpackChunkOmera||[]).push([[2923],{2923:(A,l,s)=>{s.r(l),s.d(l,{NotificationsComponent:()=>f});var r=s(6814),a=s(4119),t=s(8926),d=s(7122),_=s(9483);function u(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",6)(1,"h5",7),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"p",8),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"span",9),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"p")(12,"span",10),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15),t.ALo(16,"currency"),t.qZA(),t.TgZ(17,"p")(18,"span",10),t._uU(19),t.ALo(20,"translate"),t.qZA(),t._uU(21),t.ALo(22,"currency"),t.qZA(),t.TgZ(23,"p")(24,"span",10),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._uU(27),t.ALo(28,"currency"),t.qZA(),t.TgZ(29,"p")(30,"span",10),t._uU(31),t.ALo(32,"translate"),t.qZA(),t._uU(33),t.ALo(34,"currency"),t.qZA(),t.TgZ(35,"button",11),t.NdJ("click",function(){const g=t.CHM(i).$implicit,m=t.oxw(2);return t.KtG(m.markAsRead(g.id))}),t._uU(36),t.ALo(37,"translate"),t._UZ(38,"i",12),t.qZA()()}if(2&o){const i=c.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,13,"customerDashboard.New Order !")),t.xp6(3),t.hij("",t.lcZ(6,15,"customerDashboard.This Order")," "),t.xp6(3),t.hij("#",i.order.oid,""),t.xp6(1),t.hij(" ",t.lcZ(10,17,"customerDashboard.Was Done Successfull"),""),t.xp6(4),t.hij("",t.lcZ(14,19,"cart.Total")," :"),t.xp6(2),t.hij(" ",t.xi3(16,21,i.order.total," EGP "),""),t.xp6(4),t.hij("",t.lcZ(20,24,"cart.Shipping")," :"),t.xp6(2),t.hij(" ",t.xi3(22,26,i.order.shipping_amount," EGP "),""),t.xp6(4),t.hij("",t.lcZ(26,29,"cart.Tax")," :"),t.xp6(2),t.hij(" ",t.xi3(28,31,i.order.tax_fee," EGP "),""),t.xp6(4),t.hij("",t.lcZ(32,34,"cart.Service Fee")," :"),t.xp6(2),t.hij(" ",t.xi3(34,36,i.order.service_fee," EGP "),""),t.xp6(3),t.hij("",t.lcZ(37,39,"customerDashboard.Mark as read")," ")}}function h(o,c){1&o&&(t.TgZ(0,"div",13)(1,"p",14),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"img",15),t.qZA()()),2&o&&(t.xp6(2),t.hij("",t.lcZ(3,1,"customerDashboard.No notifications exist")," "))}function p(o,c){if(1&o&&(t.TgZ(0,"section",1)(1,"h4"),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,u,39,41,"div",4),t.YNc(7,h,5,3,"div",5),t.qZA()()),2&o){const i=t.oxw();t.Q6J("dir",i.isArabic()?"rtl":"ltr"),t.xp6(3),t.hij(" ",t.lcZ(4,5,"customerDashboard.Notifications")," "),t.xp6(2),t.Q6J("lang",i.isArabic()?"ar":"en"),t.xp6(1),t.Q6J("ngForOf",i.allNotifications),t.xp6(1),t.Q6J("ngIf",0==i.allNotifications.length)}}let f=(()=>{class o{constructor(i,e,n){this._CustomerDashboardService=i,this._AuthService=e,this.translate=n,this.userId=0,this.allNotifications=[],this.render=!1}getAllNotifications(){this._CustomerDashboardService.allNotifications(this.userId).subscribe({next:i=>{console.log(i),this.allNotifications=i,this._CustomerDashboardService.notificationsCount.next(this.allNotifications.length),this.render=!0},error:i=>{console.log(i),this.render=!0}})}ngOnInit(){this._AuthService.decodeToken(),this.userId=this._AuthService.userInfo.user_id,console.log(this.userId),this.getAllNotifications()}markAsRead(i){this._CustomerDashboardService.notificationRead(this.userId,i).subscribe({next:e=>{console.log(e),this.getAllNotifications()},error:e=>{console.log(e)}})}isArabic(){return"ar"===this.translate.currentLang}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(d.Y),t.Y36(_.e),t.Y36(a.sK))};static#i=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-notifications"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[[3,"dir",4,"ngIf"],[3,"dir"],[1,"fa-solid","fa-bell","text-prim","fs-2"],[1,"mt-4",3,"lang"],["class","notificationCard border border-1 rounded-2 shadow my-3 p-3",4,"ngFor","ngForOf"],["class","p-3 rounded-2 shadow",4,"ngIf"],[1,"notificationCard","border","border-1","rounded-2","shadow","my-3","p-3"],[1,"text-prim","fw-bold"],[1,"fw-bold"],[1,"text-prim"],[1,"text-main","fw-bolder"],[1,"read","btn","btn-success","px-3","py-1","mt-2","text-white",3,"click"],["lang","en",1,"fa-regular","fa-eye"],[1,"p-3","rounded-2","shadow"],[1,"h1","text-prim","text-center"],["src","./assets/notification.png","alt","","height","80"]],template:function(e,n){1&e&&t.YNc(0,p,8,7,"section",0),2&e&&t.Q6J("ngIf",n.render)},dependencies:[r.ez,r.sg,r.O5,r.H9,a.aw,a.X$],styles:[".read[_ngcontent-%COMP%]{background-color:#117da1;transition:.2s}.read[_ngcontent-%COMP%]:hover{background-color:#0f5f7a}"]})}return o})()}}]);