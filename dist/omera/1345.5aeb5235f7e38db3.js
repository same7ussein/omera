"use strict";(self.webpackChunkOmera=self.webpackChunkOmera||[]).push([[1345],{1345:(I,g,n)=>{n.r(g),n.d(g,{WishlistComponent:()=>x});var _=n(177),p=n(1870),d=n(8147),m=n(8866),a=n(2241),h=n(8325),t=n(7019),r=n(425),l=n(5794),v=n(7506),f=n(2571);function E(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,u=t.XpG(4);return t.Njj(u.addToWhishlist(o.product.id))}),t.nrm(1,"i",24),t.k0s()}}function D(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",25),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,u=t.XpG(4);return t.Njj(u.addToWhishlist(o.product.id))}),t.nrm(1,"i",26),t.k0s()}}function C(i,c){if(1&i&&t.nrm(0,"i",27),2&i){const e=c.$implicit,s=t.XpG().$implicit;t.AVh("rating-color",e<=s.product.rating)}}const P=function(i,c){return["/product/details",i,c]},W=function(){return[1,2,3,4,5]};function R(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",10)(1,"div",11)(2,"div",12),t.DNE(3,E,2,0,"div",13),t.DNE(4,D,2,0,"div",14),t.j41(5,"button",15),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"img",16),t.bIt("error",function(){const u=t.eBV(e).$implicit;return t.Njj(u.product.image="./assets/placeholder/placeholder2.png")}),t.k0s(),t.j41(9,"div",17)(10,"span"),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",18)(14,"span"),t.EFF(15),t.nI1(16,"uppercase"),t.k0s(),t.j41(17,"h6",19),t.EFF(18),t.k0s(),t.j41(19,"div",20)(20,"p",21),t.EFF(21),t.nI1(22,"translate"),t.k0s(),t.j41(23,"div"),t.DNE(24,C,1,2,"i",22),t.k0s()()()()()}if(2&i){const e=c.$implicit,s=t.XpG(4);t.R7$(3),t.Y8G("ngIf",!s.wishlistData.includes(e.product.id)),t.R7$(1),t.Y8G("ngIf",s.wishlistData.includes(e.product.id)),t.R7$(1),t.Y8G("lang",s.isArabic()?"ar":"en")("routerLink",t.l_i(24,P,e.product.slug,e.product.currency)),t.R7$(1),t.SpI(" ",t.bMT(7,16,"home.Show Product"),""),t.R7$(2),t.Y8G("src",e.product.image.length>0?e.product.image:"./assets/placeholder/placeholder2.png",t.B4B)("useSrcset",!0)("lazyLoad",e.product.image),t.R7$(3),t.JRh(t.bMT(12,18,"home.new")),t.R7$(2),t.Y8G("routerLink",t.l_i(27,P,e.product.slug,e.product.currency)),t.R7$(2),t.JRh(t.bMT(16,20,e.product.category.title)),t.R7$(3),t.JRh(e.product.title),t.R7$(2),t.Y8G("lang",s.isArabic()?"ar":"en"),t.R7$(1),t.Lme("",e.product.price+" ","",t.bMT(22,22,"currency."+e.product.currency),""),t.R7$(3),t.Y8G("ngForOf",t.lJ4(30,W))}}function $(i,c){if(1&i&&(t.qex(0),t.j41(1,"h1",6),t.EFF(2),t.nI1(3,"translate"),t.nrm(4,"img",7),t.k0s(),t.j41(5,"div",8),t.DNE(6,R,25,31,"div",9),t.k0s(),t.bVm()),2&i){const e=t.XpG(3);t.R7$(1),t.Y8G("lang",e.isArabic()?"ar":"en"),t.R7$(1),t.SpI("",t.bMT(3,3,"wishlist.My Wishlist")," "),t.R7$(4),t.Y8G("ngForOf",e.allProducts)}}function T(i,c){if(1&i&&(t.j41(0,"div",28)(1,"p",29),t.EFF(2),t.nI1(3,"translate"),t.nrm(4,"img",30),t.k0s()()),2&i){const e=t.XpG(3);t.Y8G("lang",e.isArabic()?"ar":"en"),t.R7$(2),t.JRh(t.bMT(3,2,"wishlist.Your Wishlist is empty"))}}function O(i,c){if(1&i&&(t.j41(0,"div"),t.DNE(1,$,7,5,"ng-container",4),t.DNE(2,T,5,4,"div",5),t.k0s()),2&i){const e=t.XpG(2);t.AVh("align-items-center",0==e.allProducts.length),t.R7$(1),t.Y8G("ngIf",e.allProducts.length>0),t.R7$(1),t.Y8G("ngIf",0==e.allProducts.length)}}function L(i,c){if(1&i&&(t.j41(0,"section",2),t.DNE(1,O,3,4,"div",3),t.k0s()),2&i){const e=t.XpG();t.Y8G("dir",e.isArabic()?"rtl":"ltr"),t.R7$(1),t.Y8G("ngIf",!e.loading)}}function M(i,c){1&i&&(t.j41(0,"div",31),t.nrm(1,"app-loading"),t.k0s())}let x=(()=>{class i{constructor(e,s,o,u,y){this._WishlistService=e,this._ToastrService=s,this._ProductsService=o,this._CommonService=u,this.translate=y,this.allProducts=[],this.formData=new FormData,this.wishlistData=[],this.render=!1,this.loading=!1,this.currentLang=""}ngOnInit(){this.decodeToken(),"notLogin"!==this.userId?this.formData.append("user_id",this.userId.user_id.toString()):(console.log("visitor"),this.render=!0),this._CommonService.currency.subscribe({next:e=>{this.currency=e.label,console.log(this.currency),this.getAllWishlist()}}),this._CommonService.currentLang.subscribe({next:e=>{console.log(e),this.currentLang=e,this.getAllWishlist()},error:e=>{console.log(e)}})}isArabic(){return"ar"===this.translate.currentLang}addToWhishlist(e){this.loading=!0,this.formData.append("product_id",e.toString()),console.log(this.formData),this._WishlistService.addWishlist(this.formData).subscribe({next:s=>{console.log(s,"look"),"Removed From Wishlist"==s.message&&"en"==this.currentLang?(this._ToastrService.error(s.message),document.querySelector(".overlay-container").style.direction="ltr"):"Removed From Wishlist"==s.message&&"ar"==this.currentLang&&(this._ToastrService.error("\u062a\u0645 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0647"),document.querySelector(".overlay-container").style.direction="rtl"),this.allProducts=s.data,this.loading=!1,this._WishlistService.wishlistNumber.next(this.allProducts.length)},error:s=>{console.log(s)}})}getAllWishlist(){this.loading=!0,this._WishlistService.getWishlist(this.currency,this.userId.user_id,this.currentLang).subscribe({next:e=>{console.log(e,"ddddddddddd"),this.allProducts=e,this.wishlistData=e.map(s=>s.product.id),this.render=!0,this.loading=!1},error:e=>{console.log(e),this.render=!0}})}decodeToken(){const e=localStorage.getItem("eToken");this.userId=null!==e?(0,m.s)(e):"notLogin"}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(r.F),t.rXU(l.tw),t.rXU(v.g),t.rXU(f.h),t.rXU(d.c$))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["class","container my-5",3,"dir",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"container","my-5",3,"dir"],[3,"align-items-center",4,"ngIf"],[4,"ngIf"],["class","py-3 text-white rounded-2 mx-auto",3,"lang",4,"ngIf"],[1,"mb-4",3,"lang"],["src","./assets/wishlist.png","alt","","height","50","routerLink","/home","role","button"],[1,"row","g-5"],["class","col-xl-3 col-lg-4 col-md-6",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6"],[1,"single-product","position-relative"],[1,"product"],["class","heart shadow d-flex align-items-center justify-content-center",3,"click",4,"ngIf"],["class","heart shadow d-flex align-items-center justify-content-center fav",3,"click",4,"ngIf"],[1,"btn","main-btn","py-1","px-4",3,"lang","routerLink"],["defaultImage","./assets/placeholder/placeholder2.png","alt","default image","height","300",1,"w-100","object-fit-contain",3,"src","useSrcset","lazyLoad","error"],[1,"badge"],[1,"cursor-pointer","mt-2",3,"routerLink"],[1,"title-cell"],[1,"d-flex","flex-wrap","justify-content-between","pe-1"],[3,"lang"],["class","fa-solid fa-star",3,"rating-color",4,"ngFor","ngForOf"],[1,"heart","shadow","d-flex","align-items-center","justify-content-center",3,"click"],[1,"fa-regular","fa-heart","fs-5","cursor-pointer"],[1,"heart","shadow","d-flex","align-items-center","justify-content-center","fav",3,"click"],[1,"fa-solid","fa-heart","fs-5","cursor-pointer"],[1,"fa-solid","fa-star"],[1,"py-3","text-white","rounded-2","mx-auto",3,"lang"],[1,"text-center","h1","text-prim"],["src","./assets/wishlist.png","alt","","height","80","routerLink","/home","role","button"],[1,"text-center","py-5"]],template:function(s,o){1&s&&(t.DNE(0,L,2,2,"section",0),t.DNE(1,M,2,0,"div",1)),2&s&&(t.Y8G("ngIf",o.render),t.R7$(1),t.Y8G("ngIf",o.loading))},dependencies:[_.MD,_.Sq,_.bT,_.Pc,p.Wk,a.Un,a.Je,d.h,d.D9,h.q],styles:[".title-cell[_ngcontent-%COMP%]{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}}return i})()},7506:(I,g,n)=>{n.d(g,{g:()=>m});var _=n(5312),p=n(7019),d=n(1626);let m=(()=>{class a{constructor(t){this._HttpClient=t,this.baseUrl=_.c.baseURL}getPopularProduct(t,r){return this._HttpClient.get(`${this.baseUrl}/v1/product-popular/${t}/`,{headers:{"Accept-Language":r}})}getBestSeller(t,r){return this._HttpClient.get(`${this.baseUrl}/v1/product-bestseller/${t}/`,{headers:{"Accept-Language":r}})}getProductDetails(t,r,l){return this._HttpClient.get(`${this.baseUrl}/v1/product/${t}/${r}/`,{headers:{"Accept-Language":l}})}getAllCategory(t){return this._HttpClient.get(`${this.baseUrl}/v1/category/`,{headers:{"Accept-Language":t}})}getAllProduct(t="",r=[],l=[],v=[],f=0,E=1,D="",C){return this._HttpClient.get(`${this.baseUrl}/v1/productss/${D}/?brand_ids=${v}&category_ids=${r}&page=${E}&price=${l}&rating=${f}&title=${t}`,{headers:{"Accept-Language":C}})}getAllBrands(t){return this._HttpClient.get(`${this.baseUrl}/v1/brand/`,{headers:{"Accept-Language":t}})}AddReview(t){return this._HttpClient.post(`${this.baseUrl}/v1/reviews/`,t)}getReview(t){return this._HttpClient.get(`${this.baseUrl}/v1/reviews/${t}/`)}static{this.\u0275fac=function(r){return new(r||a)(p.KVO(d.Qq))}}static{this.\u0275prov=p.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},425:(I,g,n)=>{n.d(g,{F:()=>a});var _=n(4412),p=n(5312),d=n(7019),m=n(1626);let a=(()=>{class h{constructor(r){this._HttpClient=r,this.baseUrl=p.c.baseURL,this.wishlistNumber=new _.t(0)}addWishlist(r){return this._HttpClient.post(`${this.baseUrl}/v1/customer/wishlist/create/`,r)}getWishlist(r,l,v){return this._HttpClient.get(`${this.baseUrl}/v1/customer/wishlist/${r}/${l}/`,{headers:{"Accept-Language":v}})}static{this.\u0275fac=function(l){return new(l||h)(d.KVO(m.Qq))}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()}}]);