"use strict";(self.webpackChunkOmera=self.webpackChunkOmera||[]).push([[4929],{4929:(D,_,n)=>{n.r(_),n.d(_,{NewpasswordComponent:()=>R});var u=n(177),a=n(9417),c=n(476),p=n(8147),w=n(2610),s=n(7019),m=n(1870),g=n(4871),f=n(5794);function E(t,i){1&t&&(s.j41(0,"p",12),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&t&&(s.R7$(1),s.SpI(" ",s.bMT(2,1,"account.pass-req"),""))}function h(t,i){1&t&&(s.j41(0,"p",12),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&t&&(s.R7$(1),s.SpI(" ",s.bMT(2,1,"account.password.pattern"),""))}function v(t,i){if(1&t&&(s.j41(0,"div",10),s.DNE(1,E,3,3,"p",11),s.DNE(2,h,3,3,"p",11),s.k0s()),2&t){const o=s.XpG();let e,r;s.R7$(1),s.Y8G("ngIf",null==(e=o.newPassword.get("password"))?null:e.getError("required")),s.R7$(1),s.Y8G("ngIf",null==(r=o.newPassword.get("password"))?null:r.getError("pattern"))}}function P(t,i){1&t&&(s.j41(0,"p",12),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&t&&(s.R7$(1),s.SpI(" ",s.bMT(2,1,"account.confirmPassword.required"),""))}function I(t,i){1&t&&(s.j41(0,"p",12),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&t&&(s.R7$(1),s.SpI(" ",s.bMT(2,1,"account.confirmPassword.compare"),""))}function M(t,i){if(1&t&&(s.j41(0,"div",10),s.DNE(1,P,3,3,"p",11),s.DNE(2,I,3,3,"p",11),s.k0s()),2&t){const o=s.XpG();let e,r;s.R7$(1),s.Y8G("ngIf",null==(e=o.newPassword.get("password2"))?null:e.getError("required")),s.R7$(1),s.Y8G("ngIf",(null==(r=o.newPassword.get("password2"))?null:r.getError("compare"))&&!(null!=(r=o.newPassword.get("password2"))&&r.getError("required")))}}let R=(()=>{class t{constructor(o,e,r,l,d,T){this.route=o,this._FormBuilder=e,this._ForgetPassowrdService=r,this._Router=l,this._ToastrService=d,this.translate=T,this.otp="",this.uidb64="",this.newPassword=this._FormBuilder.group({password:["",[a.k0.required,a.k0.pattern(/^[a-z0-9]{6,20}$/)]],password2:["",[c._E.required(),c._E.compare({fieldName:"password"})]]})}ngOnInit(){this.route.queryParams.subscribe(o=>{this.otp=o.otp,this.uidb64=o.uidb64})}passwordReset(){if(this.newPassword.valid){const o=new FormData;o.append("otp",this.otp),o.append("uidb64",this.uidb64),Object.keys(this.newPassword.value).forEach(e=>{o.append(e,this.newPassword.get(e)?.value)}),this._ForgetPassowrdService.createPassword(o).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message),this._Router.navigate(["./login"])},error:e=>{console.log(e)}})}else this.newPassword.markAllAsTouched()}isArabic(){return"ar"===this.translate.currentLang}static{this.\u0275fac=function(e){return new(e||t)(s.rXU(m.nX),s.rXU(a.ok),s.rXU(g.S),s.rXU(m.Ix),s.rXU(f.tw),s.rXU(p.c$))}}static{this.\u0275cmp=s.VBU({type:t,selectors:[["app-newpassword"]],standalone:!0,features:[s.aNF],decls:21,vars:20,consts:[[1,"new-pass",3,"dir"],[1,"shadow","bg-white","p-5","rounded-4"],[3,"formGroup","submit"],[1,"d-flex","flex-column","gap-3"],[1,"flex","justify-content-center"],["formControlName","password",3,"placeholder","toggleMask","dir"],["class","validation",4,"ngIf"],["formControlName","password2",3,"placeholder","toggleMask","dir"],[1,"d-flex","justify-content-center"],[1,"btn-main","my-3"],[1,"validation"],["class","text-danger m-0",4,"ngIf"],[1,"text-danger","m-0"]],template:function(e,r){if(1&e&&(s.j41(0,"div",0)(1,"div",1)(2,"h3"),s.EFF(3),s.nI1(4,"translate"),s.k0s(),s.j41(5,"form",2),s.bIt("submit",function(){return r.passwordReset()}),s.j41(6,"div",3)(7,"div")(8,"div",4),s.nrm(9,"p-password",5),s.nI1(10,"translate"),s.k0s(),s.DNE(11,v,3,2,"div",6),s.k0s(),s.j41(12,"div")(13,"div",4),s.nrm(14,"p-password",7),s.nI1(15,"translate"),s.k0s(),s.DNE(16,M,3,2,"div",6),s.k0s()(),s.j41(17,"div",8)(18,"button",9),s.EFF(19),s.nI1(20,"translate"),s.k0s()()()()()),2&e){let l,d;s.Y8G("dir",r.isArabic()?"rtl":"ltr"),s.R7$(3),s.JRh(s.bMT(4,12,"forget.newpassord")),s.R7$(2),s.Y8G("formGroup",r.newPassword),s.R7$(4),s.Y8G("placeholder",s.bMT(10,14,"account.password"))("toggleMask",!0)("dir",r.isArabic()?"rtl":"ltr"),s.R7$(2),s.Y8G("ngIf",(null==(l=r.newPassword.get("password"))?null:l.errors)&&(null==(l=r.newPassword.get("password"))?null:l.touched)),s.R7$(3),s.Y8G("placeholder",s.bMT(15,16,"account.confirmPassword.placeholder"))("toggleMask",!0)("dir",r.isArabic()?"rtl":"ltr"),s.R7$(2),s.Y8G("ngIf",(null==(d=r.newPassword.get("password2"))?null:d.errors)&&(null==(d=r.newPassword.get("password2"))?null:d.touched)),s.R7$(3),s.JRh(s.bMT(20,18,"forget.changepass"))}},dependencies:[u.MD,u.bT,a.YN,a.qT,a.BC,a.cb,a.X1,a.j4,a.JD,p.h,p.D9,w.Ou,w._2],styles:[".new-pass[_ngcontent-%COMP%]{margin:150px 0;display:flex;justify-content:center;align-items:center}"]})}}return t})()}}]);