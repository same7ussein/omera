"use strict";(self.webpackChunkOmera=self.webpackChunkOmera||[]).push([[5080],{5080:(C,u,n)=>{n.r(u),n.d(u,{WishlistComponent:()=>Z});var _=n(6814),p=n(4938),d=n(4119),m=n(8784),a=n(5334),h=n(5156),t=n(8926),r=n(7409),l=n(2425),v=n(2239),f=n(1373);function x(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,g=t.oxw(4);return t.KtG(g.addToWhishlist(o.product.id))}),t._UZ(1,"i",24),t.qZA()}}function A(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,g=t.oxw(4);return t.KtG(g.addToWhishlist(o.product.id))}),t._UZ(1,"i",26),t.qZA()}}function E(i,c){if(1&i&&t._UZ(0,"i",27),2&i){const e=c.$implicit,s=t.oxw().$implicit;t.ekj("rating-color",e<=s.product.rating)}}const T=function(i,c){return["/product/details",i,c]},L=function(){return[1,2,3,4,5]};function W(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12),t.YNc(3,x,2,0,"div",13),t.YNc(4,A,2,0,"div",14),t.TgZ(5,"button",15),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"img",16),t.NdJ("error",function(){const g=t.CHM(e).$implicit;return t.KtG(g.product.image="./assets/placeholder/placeholder2.png")}),t.qZA(),t.TgZ(9,"div",17)(10,"span"),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",18)(14,"span"),t._uU(15),t.ALo(16,"uppercase"),t.qZA(),t.TgZ(17,"h6",19),t._uU(18),t.qZA(),t.TgZ(19,"div",20)(20,"p",21),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div"),t.YNc(24,E,1,2,"i",22),t.qZA()()()()()}if(2&i){const e=c.$implicit,s=t.oxw(4);t.xp6(3),t.Q6J("ngIf",!s.wishlistData.includes(e.product.id)),t.xp6(1),t.Q6J("ngIf",s.wishlistData.includes(e.product.id)),t.xp6(1),t.Q6J("lang",s.isArabic()?"ar":"en")("routerLink",t.WLB(24,T,e.product.slug,e.product.currency)),t.xp6(1),t.hij(" ",t.lcZ(7,16,"home.Show Product"),""),t.xp6(2),t.Q6J("src",e.product.image.length>0?e.product.image:"./assets/placeholder/placeholder2.png",t.LSH)("useSrcset",!0)("lazyLoad",e.product.image),t.xp6(3),t.Oqu(t.lcZ(12,18,"home.new")),t.xp6(2),t.Q6J("routerLink",t.WLB(27,T,e.product.slug,e.product.currency)),t.xp6(2),t.Oqu(t.lcZ(16,20,e.product.category.title)),t.xp6(3),t.Oqu(e.product.title),t.xp6(2),t.Q6J("lang",s.isArabic()?"ar":"en"),t.xp6(1),t.AsE("",e.product.price+" ","",t.lcZ(22,22,"currency."+e.product.currency),""),t.xp6(3),t.Q6J("ngForOf",t.DdM(30,L))}}function P(i,c){if(1&i&&(t.ynx(0),t.TgZ(1,"h1",6),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"img",7),t.qZA(),t.TgZ(5,"div",8),t.YNc(6,W,25,31,"div",9),t.qZA(),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("lang",e.isArabic()?"ar":"en"),t.xp6(1),t.hij("",t.lcZ(3,3,"wishlist.My Wishlist")," "),t.xp6(4),t.Q6J("ngForOf",e.allProducts)}}function D(i,c){if(1&i&&(t.TgZ(0,"div",28)(1,"p",29),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"img",30),t.qZA()()),2&i){const e=t.oxw(3);t.Q6J("lang",e.isArabic()?"ar":"en"),t.xp6(2),t.Oqu(t.lcZ(3,2,"wishlist.Your Wishlist is empty"))}}function O(i,c){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,P,7,5,"ng-container",4),t.YNc(2,D,5,4,"div",5),t.qZA()),2&i){const e=t.oxw(2);t.ekj("align-items-center",0==e.allProducts.length),t.xp6(1),t.Q6J("ngIf",e.allProducts.length>0),t.xp6(1),t.Q6J("ngIf",0==e.allProducts.length)}}function U(i,c){if(1&i&&(t.TgZ(0,"section",2),t.YNc(1,O,3,4,"div",3),t.qZA()),2&i){const e=t.oxw();t.Q6J("dir",e.isArabic()?"rtl":"ltr"),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function M(i,c){1&i&&(t.TgZ(0,"div",31),t._UZ(1,"app-loading"),t.qZA())}let Z=(()=>{class i{constructor(e,s,o,g,y){this._WishlistService=e,this._ToastrService=s,this._ProductsService=o,this._CommonService=g,this.translate=y,this.allProducts=[],this.formData=new FormData,this.wishlistData=[],this.render=!1,this.loading=!1,this.currentLang=""}ngOnInit(){this.decodeToken(),"notLogin"!==this.userId?this.formData.append("user_id",this.userId.user_id.toString()):(console.log("visitor"),this.render=!0),this._CommonService.currency.subscribe({next:e=>{this.currency=e.label,console.log(this.currency),this.getAllWishlist()}}),this._CommonService.currentLang.subscribe({next:e=>{console.log(e),this.currentLang=e,this.getAllWishlist()},error:e=>{console.log(e)}})}isArabic(){return"ar"===this.translate.currentLang}addToWhishlist(e){this.loading=!0,this.formData.append("product_id",e.toString()),console.log(this.formData),this._WishlistService.addWishlist(this.formData).subscribe({next:s=>{console.log(s,"look"),"Removed From Wishlist"==s.message&&"en"==this.currentLang?(this._ToastrService.error(s.message),document.querySelector(".overlay-container").style.direction="ltr"):"Removed From Wishlist"==s.message&&"ar"==this.currentLang&&(this._ToastrService.error("\u062a\u0645 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0647"),document.querySelector(".overlay-container").style.direction="rtl"),this.allProducts=s.data,this.loading=!1,this._WishlistService.wishlistNumber.next(this.allProducts.length)},error:s=>{console.log(s)}})}getAllWishlist(){this.loading=!0,this._WishlistService.getWishlist(this.currency,this.userId.user_id,this.currentLang).subscribe({next:e=>{console.log(e,"ddddddddddd"),this.allProducts=e,this.wishlistData=e.map(s=>s.product.id),this.render=!0,this.loading=!1},error:e=>{console.log(e),this.render=!0}})}decodeToken(){const e=localStorage.getItem("eToken");this.userId=null!==e?(0,m.o)(e):"notLogin"}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(r.M),t.Y36(l._W),t.Y36(v.s),t.Y36(f.v),t.Y36(d.sK))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[["class","container my-5",3,"dir",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"container","my-5",3,"dir"],[3,"align-items-center",4,"ngIf"],[4,"ngIf"],["class","py-3 text-white rounded-2 mx-auto",3,"lang",4,"ngIf"],[1,"mb-4",3,"lang"],["src","./assets/wishlist.png","alt","","height","50","routerLink","/home","role","button"],[1,"row","g-5"],["class","col-xl-3 col-lg-4 col-md-6",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6"],[1,"single-product","position-relative"],[1,"product"],["class","heart shadow d-flex align-items-center justify-content-center",3,"click",4,"ngIf"],["class","heart shadow d-flex align-items-center justify-content-center fav",3,"click",4,"ngIf"],[1,"btn","main-btn","py-1","px-4",3,"lang","routerLink"],["defaultImage","./assets/placeholder/placeholder2.png","alt","default image","height","300",1,"w-100","object-fit-contain",3,"src","useSrcset","lazyLoad","error"],[1,"badge"],[1,"cursor-pointer","mt-2",3,"routerLink"],[1,"title-cell"],[1,"d-flex","flex-wrap","justify-content-between","pe-1"],[3,"lang"],["class","fa-solid fa-star",3,"rating-color",4,"ngFor","ngForOf"],[1,"heart","shadow","d-flex","align-items-center","justify-content-center",3,"click"],[1,"fa-regular","fa-heart","fs-5","cursor-pointer"],[1,"heart","shadow","d-flex","align-items-center","justify-content-center","fav",3,"click"],[1,"fa-solid","fa-heart","fs-5","cursor-pointer"],[1,"fa-solid","fa-star"],[1,"py-3","text-white","rounded-2","mx-auto",3,"lang"],[1,"text-center","h1","text-prim"],["src","./assets/wishlist.png","alt","","height","80","routerLink","/home","role","button"],[1,"text-center","py-5"]],template:function(s,o){1&s&&(t.YNc(0,U,2,2,"section",0),t.YNc(1,M,2,0,"div",1)),2&s&&(t.Q6J("ngIf",o.render),t.xp6(1),t.Q6J("ngIf",o.loading))},dependencies:[_.ez,_.sg,_.O5,_.gd,p.rH,a.mZ,a.z1,d.aw,d.X$,h.N],styles:[".title-cell[_ngcontent-%COMP%]{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return i})()},2239:(C,u,n)=>{n.d(u,{s:()=>m});var _=n(553),p=n(8926),d=n(9862);let m=(()=>{class a{constructor(t){this._HttpClient=t,this.baseUrl=_.N.baseURL}getPopularProduct(t,r){return this._HttpClient.get(`${this.baseUrl}/v1/product-popular/${t}/`,{headers:{"Accept-Language":r}})}getBestSeller(t,r){return this._HttpClient.get(`${this.baseUrl}/v1/product-bestseller/${t}/`,{headers:{"Accept-Language":r}})}getProductDetails(t,r,l){return this._HttpClient.get(`${this.baseUrl}/v1/product/${t}/${r}/`,{headers:{"Accept-Language":l}})}getAllCategory(t){return this._HttpClient.get(`${this.baseUrl}/v1/category/`,{headers:{"Accept-Language":t}})}getAllProduct(t="",r=[],l=[],v=[],f=0,x=1,A="",E){return this._HttpClient.get(`${this.baseUrl}/v1/productss/${A}/?brand_ids=${v}&category_ids=${r}&page=${x}&price=${l}&rating=${f}&title=${t}`,{headers:{"Accept-Language":E}})}getAllBrands(t){return this._HttpClient.get(`${this.baseUrl}/v1/brand/`,{headers:{"Accept-Language":t}})}AddReview(t){return this._HttpClient.post(`${this.baseUrl}/v1/reviews/`,t)}getReview(t){return this._HttpClient.get(`${this.baseUrl}/v1/reviews/${t}/`)}static#t=this.\u0275fac=function(r){return new(r||a)(p.LFG(d.eN))};static#e=this.\u0275prov=p.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},7409:(C,u,n)=>{n.d(u,{M:()=>a});var _=n(5619),p=n(553),d=n(8926),m=n(9862);let a=(()=>{class h{constructor(r){this._HttpClient=r,this.baseUrl=p.N.baseURL,this.wishlistNumber=new _.X(0)}addWishlist(r){return this._HttpClient.post(`${this.baseUrl}/v1/customer/wishlist/create/`,r)}getWishlist(r,l,v){return this._HttpClient.get(`${this.baseUrl}/v1/customer/wishlist/${r}/${l}/`,{headers:{"Accept-Language":v}})}static#t=this.\u0275fac=function(l){return new(l||h)(d.LFG(m.eN))};static#e=this.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()}}]);