"use strict";(self.webpackChunkOmera=self.webpackChunkOmera||[]).push([[2480,8324],{2205:(f,g,r)=>{r.r(g),r.d(g,{SettingsComponent:()=>p});var i=r(177),o=r(9417),u=r(8147),e=r(7019),c=r(1875),h=r(3664),n=r(1825);const s=function(d){return{"bg-secondary-subtle":d}},m=function(d){return{"d-none":d}};let p=(()=>{class d{constructor(a,l,t,_,C){this._FormBuilder=a,this.translate=l,this._CustomerDashboardService=t,this._AuthService=_,this._AccountComponent=C,this.userId=0,this.userImage="",this.disableInputs=!0,this.userProfileForm=this._FormBuilder.group({image:[""],full_name:[""],email:[""],phone:[""],Address:[""],City:[""],State:[""],Country:[""]})}onFileChange(a){console.log(a.target.files[0]),this.imageUrl=a.target.files[0]}getUserProfile(){this._CustomerDashboardService.getUserProfile(this.userId).subscribe({next:a=>{console.log("proData",a),this.userProfileForm.get("full_name")?.setValue(a.full_name),this.userProfileForm.get("email")?.setValue(a.user.email),this.userProfileForm.get("phone")?.setValue(a.user.phone),this.userProfileForm.get("Address")?.setValue(a.address),this.userProfileForm.get("City")?.setValue(a.city),this.userProfileForm.get("State")?.setValue(a.state),this.userProfileForm.get("Country")?.setValue(a.country);for(const l in this.userProfileForm.value)"null"==this.userProfileForm.get(l).value&&this.userProfileForm.get(l)?.setValue(" ")},error:a=>{console.log(a)}})}updateUserProfile(){const a=this._FormBuilder.group({full_name:this.userProfileForm.get("full_name")?.value,email:this.userProfileForm.get("email")?.value,mobile:this.userProfileForm.get("phone")?.value,address:this.userProfileForm.get("Address")?.value,country:this.userProfileForm.get("Country")?.value,state:this.userProfileForm.get("State")?.value,city:this.userProfileForm.get("City")?.value}),l=new FormData;Object.keys(a.value).forEach(t=>{l.append(t,a.get(t)?.value),null!=this.imageUrl&&l.append("image",this.imageUrl,this.imageUrl.name)}),this._CustomerDashboardService.updateUserProfile(this.userId,l).subscribe({next:t=>{console.log("upd",t),this.disableInputs=!0,this._AccountComponent.getUserImage(),this.getUserProfile()},error:t=>{console.log(t),console.log(this.imageUrl)}})}ngOnInit(){this._AuthService.decodeToken(),this.userId=this._AuthService.userInfo.user_id,console.log(this.userId),this.getUserProfile()}enableInputs(){this.disableInputs=!1}isArabic(){return"ar"===this.translate.currentLang}static{this.\u0275fac=function(l){return new(l||d)(e.rXU(o.ok),e.rXU(u.c$),e.rXU(c.m),e.rXU(h.u),e.rXU(n.AccountComponent))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-settings"]],standalone:!0,features:[e.aNF],decls:56,vars:74,consts:[[3,"dir","lang"],["lang","en",1,"fa-solid","fa-gear","text-prim","fs-2","ms-2"],[3,"formGroup"],["for","ProfileImage"],["type","file","accept","image/png, image/gif, image/jpeg","name","ProfileImage","id","ProfileImage","placeholder","Select an image","formControlName","image",1,"form-control","my-2",3,"readonly","ngClass","change"],["for","name"],["type","text","id","name","formControlName","full_name",1,"form-control","my-2","w-100",3,"readonly","ngClass"],[1,"d-flex","justify-content-between","gap-3"],[1,"w-50"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","address"],["type","text","id","address","formControlName","Address",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","City"],["type","text","id","City","formControlName","City",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","State"],["type","text","id","State","formControlName","State",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["for","Country"],["type","tel","id","Country","formControlName","Country",1,"form-control","my-2","w-100",3,"readonly","ngClass"],["type","button",1,"Update","btn-main","mt-2",3,"ngClass","click"],["type","button",1,"Save","btn","btn-main","d-none","mt-2",3,"ngClass","click"]],template:function(l,t){1&l&&(e.j41(0,"section",0)(1,"h4"),e.nrm(2,"i",1),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"form",2)(7,"div")(8,"label",3),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",4),e.bIt("change",function(C){return t.onFileChange(C)}),e.k0s()(),e.j41(12,"div")(13,"label",5),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",6),e.k0s(),e.j41(17,"div",7)(18,"div",8)(19,"label",9),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.nrm(22,"input",10),e.k0s(),e.j41(23,"div",8)(24,"label",11),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.nrm(27,"input",12),e.k0s()(),e.j41(28,"div",7)(29,"div",8)(30,"label",13),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.nrm(33,"input",14),e.k0s(),e.j41(34,"div",8)(35,"label",15),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.nrm(38,"input",16),e.k0s()(),e.j41(39,"div",7)(40,"div",8)(41,"label",17),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.nrm(44,"input",18),e.k0s(),e.j41(45,"div",8)(46,"label",19),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.nrm(49,"input",20),e.k0s()(),e.j41(50,"button",21),e.bIt("click",function(){return t.enableInputs()}),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"button",22),e.bIt("click",function(){return t.updateUserProfile()}),e.EFF(54),e.nI1(55,"translate"),e.k0s()()()),2&l&&(e.Y8G("dir",t.isArabic()?"rtl":"ltr")("lang",t.isArabic()?"ar":"en"),e.R7$(4),e.JRh(e.bMT(5,32,"cart.Settings")),e.R7$(2),e.Y8G("formGroup",t.userProfileForm),e.R7$(3),e.JRh(e.bMT(10,34,"cart.Profile Image")),e.R7$(2),e.Y8G("readonly",t.disableInputs)("ngClass",e.eq3(54,s,t.disableInputs)),e.R7$(3),e.JRh(e.bMT(15,36,"cart.Full Name")),e.R7$(2),e.Y8G("readonly",t.disableInputs)("ngClass",e.eq3(56,s,t.disableInputs)),e.R7$(4),e.SpI("",e.bMT(21,38,"cart.Email")," "),e.R7$(2),e.Y8G("readonly",t.disableInputs)("ngClass",e.eq3(58,s,t.disableInputs)),e.R7$(3),e.SpI("",e.bMT(26,40,"cart.Mobile")," "),e.R7$(2),e.Y8G("readonly",t.disableInputs)("ngClass",e.eq3(60,s,t.disableInputs)),e.R7$(4),e.SpI("",e.bMT(32,42,"cart.Address")," "),e.R7$(2),e.Y8G("readonly",t.disableInputs)("ngClass",e.eq3(62,s,t.disableInputs)),e.R7$(3),e.SpI("",e.bMT(37,44,"cart.City")," "),e.R7$(2),e.Y8G("readonly",t.disableInputs)("ngClass",e.eq3(64,s,t.disableInputs)),e.R7$(4),e.SpI("",e.bMT(43,46,"cart.State")," "),e.R7$(2),e.Y8G("readonly",t.disableInputs)("ngClass",e.eq3(66,s,t.disableInputs)),e.R7$(3),e.SpI("",e.bMT(48,48,"cart.Country")," "),e.R7$(2),e.Y8G("readonly",t.disableInputs)("ngClass",e.eq3(68,s,t.disableInputs)),e.R7$(1),e.Y8G("ngClass",e.eq3(70,m,0==t.disableInputs)),e.R7$(1),e.JRh(e.bMT(52,50,"customerDashboard.Update Data")),e.R7$(2),e.Y8G("ngClass",e.eq3(72,m,t.disableInputs)),e.R7$(1),e.JRh(e.bMT(55,52,"customerDashboard.Save Changes")))},dependencies:[i.MD,i.YU,o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,u.h,u.D9]})}}return d})()},2571:(f,g,r)=>{r.d(g,{h:()=>u});var i=r(4412),o=r(7019);let u=(()=>{class e{constructor(){this.currentLang=new i.t("en"),this.vendorCurrentLang=new i.t("en"),this.currency=new i.t({label:"EGP",icon:"fi-eg"})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=o.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},7506:(f,g,r)=>{r.d(g,{g:()=>e});var i=r(5312),o=r(7019),u=r(1626);let e=(()=>{class c{constructor(n){this._HttpClient=n,this.baseUrl=i.c.baseURL}getPopularProduct(n,s){return this._HttpClient.get(`${this.baseUrl}/v1/product-popular/${n}/`,{headers:{"Accept-Language":s}})}getBestSeller(n,s){return this._HttpClient.get(`${this.baseUrl}/v1/product-bestseller/${n}/`,{headers:{"Accept-Language":s}})}getProductDetails(n,s,m){return this._HttpClient.get(`${this.baseUrl}/v1/product/${n}/${s}/`,{headers:{"Accept-Language":m}})}getAllCategory(n){return this._HttpClient.get(`${this.baseUrl}/v1/category/`,{headers:{"Accept-Language":n}})}getAllProduct(n="",s=[],m=[],p=[],d=0,b=1,a="",l){return this._HttpClient.get(`${this.baseUrl}/v1/productss/${a}/?brand_ids=${p}&category_ids=${s}&page=${b}&price=${m}&rating=${d}&title=${n}`,{headers:{"Accept-Language":l}})}getAllBrands(n){return this._HttpClient.get(`${this.baseUrl}/v1/brand/`,{headers:{"Accept-Language":n}})}AddReview(n){return this._HttpClient.post(`${this.baseUrl}/v1/reviews/`,n)}getReview(n){return this._HttpClient.get(`${this.baseUrl}/v1/reviews/${n}/`)}static{this.\u0275fac=function(s){return new(s||c)(o.KVO(u.Qq))}}static{this.\u0275prov=o.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},425:(f,g,r)=>{r.d(g,{F:()=>c});var i=r(4412),o=r(5312),u=r(7019),e=r(1626);let c=(()=>{class h{constructor(s){this._HttpClient=s,this.baseUrl=o.c.baseURL,this.wishlistNumber=new i.t(0)}addWishlist(s){return this._HttpClient.post(`${this.baseUrl}/v1/customer/wishlist/create/`,s)}getWishlist(s,m,p){return this._HttpClient.get(`${this.baseUrl}/v1/customer/wishlist/${s}/${m}/`,{headers:{"Accept-Language":p}})}static{this.\u0275fac=function(m){return new(m||h)(u.KVO(e.Qq))}}static{this.\u0275prov=u.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()}}]);