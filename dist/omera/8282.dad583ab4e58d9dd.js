"use strict";(self.webpackChunkOmera=self.webpackChunkOmera||[]).push([[8282],{8282:(C,_,a)=>{a.r(_),a.d(_,{NewpasswordComponent:()=>T});var c=a(6814),n=a(6223),u=a(5881),p=a(4119),w=a(1423),s=a(8926),g=a(4938),m=a(682),f=a(2425);function h(e,d){1&e&&(s.TgZ(0,"p",12),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&e&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"account.pass-req"),""))}function v(e,d){1&e&&(s.TgZ(0,"p",12),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&e&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"account.password.pattern"),""))}function P(e,d){if(1&e&&(s.TgZ(0,"div",10),s.YNc(1,h,3,3,"p",11),s.YNc(2,v,3,3,"p",11),s.qZA()),2&e){const o=s.oxw();let t,r;s.xp6(1),s.Q6J("ngIf",null==(t=o.newPassword.get("password"))?null:t.getError("required")),s.xp6(1),s.Q6J("ngIf",null==(r=o.newPassword.get("password"))?null:r.getError("pattern"))}}function A(e,d){1&e&&(s.TgZ(0,"p",12),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&e&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"account.confirmPassword.required"),""))}function E(e,d){1&e&&(s.TgZ(0,"p",12),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&e&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"account.confirmPassword.compare"),""))}function Z(e,d){if(1&e&&(s.TgZ(0,"div",10),s.YNc(1,A,3,3,"p",11),s.YNc(2,E,3,3,"p",11),s.qZA()),2&e){const o=s.oxw();let t,r;s.xp6(1),s.Q6J("ngIf",null==(t=o.newPassword.get("password2"))?null:t.getError("required")),s.xp6(1),s.Q6J("ngIf",(null==(r=o.newPassword.get("password2"))?null:r.getError("compare"))&&!(null!=(r=o.newPassword.get("password2"))&&r.getError("required")))}}let T=(()=>{class e{constructor(o,t,r,l,i,x){this.route=o,this._FormBuilder=t,this._ForgetPassowrdService=r,this._Router=l,this._ToastrService=i,this.translate=x,this.otp="",this.uidb64="",this.newPassword=this._FormBuilder.group({password:["",[n.kI.required,n.kI.pattern(/^[a-z0-9]{6,20}$/)]],password2:["",[u.CM.required(),u.CM.compare({fieldName:"password"})]]})}ngOnInit(){this.route.queryParams.subscribe(o=>{this.otp=o.otp,this.uidb64=o.uidb64})}passwordReset(){if(this.newPassword.valid){const o=new FormData;o.append("otp",this.otp),o.append("uidb64",this.uidb64),Object.keys(this.newPassword.value).forEach(t=>{o.append(t,this.newPassword.get(t)?.value)}),this._ForgetPassowrdService.createPassword(o).subscribe({next:t=>{console.log(t),this._ToastrService.success(t.message),this._Router.navigate(["./login"])},error:t=>{console.log(t)}})}else this.newPassword.markAllAsTouched()}isArabic(){return"ar"===this.translate.currentLang}static#s=this.\u0275fac=function(t){return new(t||e)(s.Y36(g.gz),s.Y36(n.qu),s.Y36(m.U),s.Y36(g.F0),s.Y36(f._W),s.Y36(p.sK))};static#e=this.\u0275cmp=s.Xpm({type:e,selectors:[["app-newpassword"]],standalone:!0,features:[s.jDz],decls:21,vars:20,consts:[[1,"new-pass",3,"dir"],[1,"shadow","bg-white","p-5","rounded-4"],[3,"formGroup","submit"],[1,"d-flex","flex-column","gap-3"],[1,"flex","justify-content-center"],["formControlName","password",3,"placeholder","toggleMask","dir"],["class","validation",4,"ngIf"],["formControlName","password2",3,"placeholder","toggleMask","dir"],[1,"d-flex","justify-content-center"],[1,"btn-main","my-3"],[1,"validation"],["class","text-danger m-0",4,"ngIf"],[1,"text-danger","m-0"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h3"),s._uU(3),s.ALo(4,"translate"),s.qZA(),s.TgZ(5,"form",2),s.NdJ("submit",function(){return r.passwordReset()}),s.TgZ(6,"div",3)(7,"div")(8,"div",4),s._UZ(9,"p-password",5),s.ALo(10,"translate"),s.qZA(),s.YNc(11,P,3,2,"div",6),s.qZA(),s.TgZ(12,"div")(13,"div",4),s._UZ(14,"p-password",7),s.ALo(15,"translate"),s.qZA(),s.YNc(16,Z,3,2,"div",6),s.qZA()(),s.TgZ(17,"div",8)(18,"button",9),s._uU(19),s.ALo(20,"translate"),s.qZA()()()()()),2&t){let l,i;s.Q6J("dir",r.isArabic()?"rtl":"ltr"),s.xp6(3),s.Oqu(s.lcZ(4,12,"forget.newpassord")),s.xp6(2),s.Q6J("formGroup",r.newPassword),s.xp6(4),s.Q6J("placeholder",s.lcZ(10,14,"account.password"))("toggleMask",!0)("dir",r.isArabic()?"rtl":"ltr"),s.xp6(2),s.Q6J("ngIf",(null==(l=r.newPassword.get("password"))?null:l.errors)&&(null==(l=r.newPassword.get("password"))?null:l.touched)),s.xp6(3),s.Q6J("placeholder",s.lcZ(15,16,"account.confirmPassword.placeholder"))("toggleMask",!0)("dir",r.isArabic()?"rtl":"ltr"),s.xp6(2),s.Q6J("ngIf",(null==(i=r.newPassword.get("password2"))?null:i.errors)&&(null==(i=r.newPassword.get("password2"))?null:i.touched)),s.xp6(3),s.Oqu(s.lcZ(20,18,"forget.changepass"))}},dependencies:[c.ez,c.O5,n.u5,n._Y,n.JJ,n.JL,n.UX,n.sg,n.u,p.aw,p.X$,w.gz,w.ro],styles:[".new-pass[_ngcontent-%COMP%]{margin:150px 0;display:flex;justify-content:center;align-items:center}"]})}return e})()}}]);